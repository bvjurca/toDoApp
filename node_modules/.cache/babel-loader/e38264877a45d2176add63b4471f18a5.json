{"ast":null,"code":"import _objectSpread from \"/Users/bogdia/IronHack/toDoApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { mapActions, mapState } from \"pinia\";\nimport taskStore from \"@/store/task\";\nexport default {\n  name: \"ShowTasks\",\n  computed: _objectSpread(_objectSpread({}, mapState(taskStore, [\"tasks\"])), {}, {\n    createdAt: function createdAt(previous, next) {\n      var msPerMinute = 60 * 1000;\n      var msPerHour = msPerMinute * 60;\n      var msPerDay = msPerHour * 24;\n      var msPerMonth = msPerDay * 30;\n      var msPerYear = msPerDay * 365;\n      var elapsed = current - previous;\n\n      if (elapsed < msPerMinute) {\n        return Math.round(elapsed / 1000) + ' seconds ago';\n      } else if (elapsed < msPerHour) {\n        return Math.round(elapsed / msPerMinute) + ' minutes ago';\n      } else if (elapsed < msPerDay) {\n        return Math.round(elapsed / msPerHour) + ' hours ago';\n      } else if (elapsed < msPerMonth) {\n        return 'approximately ' + Math.round(elapsed / msPerDay) + ' days ago';\n      } else if (elapsed < msPerYear) {\n        return 'approximately ' + Math.round(elapsed / msPerMonth) + ' months ago';\n      } else {\n        return 'approximately ' + Math.round(elapsed / msPerYear) + ' years ago';\n      }\n    }\n  }),\n  methods: _objectSpread(_objectSpread({}, mapActions(taskStore, [\"delTask\", \"editStatus\", \"editName\"])), {}, {\n    deleteTask: function deleteTask(taskId) {\n      try {\n        this.delTask(taskId);\n        alert(\"Task deleted. Please refresh page.\");\n      } catch (error) {\n        alert(\"Error: \", error.message);\n      }\n    },\n    handleTaskStatus: function handleTaskStatus(task, taskId) {\n      this.editStatus(!task, taskId);\n    },\n    handleTaskName: function handleTaskName(title, taskId) {\n      if (title.length !== 0) {\n        this.editName(title, taskId);\n      } else {\n        alert(\"Empty task? That doesn't make sense\");\n      }\n    }\n  }),\n  watch: {\n    tasks: function tasks(state) {\n      console.log(state);\n    }\n  }\n};","map":{"version":3,"mappings":";AAmCA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,eAAe;EACbC,IAAI,EAAE,WADO;EAEbC,QAAQ,kCACHH,QAAQ,CAACC,SAAD,EAAY,CAAC,OAAD,CAAZ,CADL;IAENG,SAFM,qBAEIC,QAFJ,EAEaC,IAFb,EAEmB;MACvB,IAAIC,WAAU,GAAI,KAAK,IAAvB;MACF,IAAIC,SAAQ,GAAID,WAAU,GAAI,EAA9B;MACA,IAAIE,QAAO,GAAID,SAAQ,GAAI,EAA3B;MACA,IAAIE,UAAS,GAAID,QAAO,GAAI,EAA5B;MACA,IAAIE,SAAQ,GAAIF,QAAO,GAAI,GAA3B;MAEA,IAAIG,OAAM,GAAIC,OAAM,GAAIR,QAAxB;;MAEA,IAAIO,OAAM,GAAIL,WAAd,EAA2B;QACtB,OAAOO,IAAI,CAACC,KAAL,CAAWH,OAAO,GAAC,IAAnB,IAA2B,cAAlC;MACL,CAFA,MAIK,IAAIA,OAAM,GAAIJ,SAAd,EAAyB;QACzB,OAAOM,IAAI,CAACC,KAAL,CAAWH,OAAO,GAACL,WAAnB,IAAkC,cAAzC;MACL,CAFK,MAIA,IAAIK,OAAM,GAAIH,QAAd,EAAyB;QACzB,OAAOK,IAAI,CAACC,KAAL,CAAWH,OAAO,GAACJ,SAAnB,IAAiC,YAAxC;MACL,CAFK,MAIA,IAAII,OAAM,GAAIF,UAAd,EAA0B;QAC3B,OAAO,mBAAmBI,IAAI,CAACC,KAAL,CAAWH,OAAO,GAACH,QAAnB,CAAnB,GAAkD,WAAzD;MACJ,CAFK,MAIA,IAAIG,OAAM,GAAID,SAAd,EAAyB;QAC1B,OAAO,mBAAmBG,IAAI,CAACC,KAAL,CAAWH,OAAO,GAACF,UAAnB,CAAnB,GAAoD,aAA3D;MACJ,CAFK,MAIA;QACD,OAAO,mBAAmBI,IAAI,CAACC,KAAL,CAAWH,OAAO,GAACD,SAAnB,CAAnB,GAAoD,YAA3D;MACJ;IACA;EAlCM,EAFK;EAsCbK,OAAO,kCACFjB,UAAU,CAACE,SAAD,EAAY,CAAC,SAAD,EAAY,YAAZ,EAA0B,UAA1B,CAAZ,CADR;IAGLgB,UAHK,sBAGMC,MAHN,EAGc;MACjB,IAAI;QACF,KAAKC,OAAL,CAAaD,MAAb;QACAE,KAAK,CAAC,oCAAD,CAAL;MACF,CAHA,CAGE,OAAOC,KAAP,EAAc;QACdD,KAAK,CAAC,SAAD,EAAYC,KAAK,CAACC,OAAlB,CAAL;MACF;IACD,CAVI;IAWLC,gBAXK,4BAWYC,IAXZ,EAWkBN,MAXlB,EAW0B;MAC7B,KAAKO,UAAL,CAAgB,CAACD,IAAjB,EAAuBN,MAAvB;IACD,CAbI;IAeLQ,cAfK,0BAeUC,KAfV,EAeiBT,MAfjB,EAeyB;MAC5B,IAAIS,KAAK,CAACC,MAAN,KAAiB,CAArB,EAAwB;QACtB,KAAKC,QAAL,CAAcF,KAAd,EAAqBT,MAArB;MACF,CAFA,MAEO;QACLE,KAAK,CAAC,qCAAD,CAAL;MACF;IACD;EArBI,EAtCM;EA6DbU,KAAK,EAAE;IACLC,KADK,iBACCC,KADD,EACQ;MACXC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EAHI;AA7DM,CAAf","names":["mapActions","mapState","taskStore","name","computed","createdAt","previous","next","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","current","Math","round","methods","deleteTask","taskId","delTask","alert","error","message","handleTaskStatus","task","editStatus","handleTaskName","title","length","editName","watch","tasks","state","console","log"],"sourceRoot":"","sources":["/Users/bogdia/IronHack/toDoApp/src/components/TaskList.vue"],"sourcesContent":["<template>\n  <section class=\"emptystate\" v-if=\"!tasks.length\">\n    <img src=\"https://i.imgur.com/qN1iZfK.jpg\" alt=\"task illustration\" />\n    <h2>So far, nothing here</h2>\n    <p>Your tasks will appear here once you create them</p>\n  </section>\n  <ul class=\"task-in-list\">\n    <li v-for=\"task in tasks\" :key=\"task.id\">\n      <input\n        class=\"checkbox\"\n        @click=\"handleTaskStatus(task.is_complete, task.id)\"\n        type=\"checkbox\"\n        v-model=\"task.is_complete\"\n        v-bind:id=\"task.is_complete\"\n      />\n      <div class=\"content\">\n        <input\n          class=\"task-name\"\n          v-model=\"task.title\"\n          :style=\"\n            task.is_complete\n              ? 'text-decoration: line-through'\n              : 'text-decoration:none'\n          \"\n          @change=\"handleTaskName(task.title, task.id)\"\n        />\n        <span v-if=\"task.is_complete\" id=\"done\"> DONE!</span>\n        <span id='date'>{{ this.createdAt + ' ' + task.inserted_at }}</span>\n      </div>\n      <button id=\"kill\" @click=\"deleteTask(task.id)\">Remove</button>\n    </li>\n  </ul>\n</template>\n\n<script>\nimport { mapActions, mapState } from \"pinia\";\nimport taskStore from \"@/store/task\";\n\nexport default {\n  name: \"ShowTasks\",\n  computed: {\n    ...mapState(taskStore, [\"tasks\"]),\n    createdAt(previous,next) {\n      var msPerMinute = 60 * 1000;\n    var msPerHour = msPerMinute * 60;\n    var msPerDay = msPerHour * 24;\n    var msPerMonth = msPerDay * 30;\n    var msPerYear = msPerDay * 365;\n\n    var elapsed = current - previous;\n\n    if (elapsed < msPerMinute) {\n         return Math.round(elapsed/1000) + ' seconds ago';   \n    }\n\n    else if (elapsed < msPerHour) {\n         return Math.round(elapsed/msPerMinute) + ' minutes ago';   \n    }\n\n    else if (elapsed < msPerDay ) {\n         return Math.round(elapsed/msPerHour ) + ' hours ago';   \n    }\n\n    else if (elapsed < msPerMonth) {\n        return 'approximately ' + Math.round(elapsed/msPerDay) + ' days ago';   \n    }\n\n    else if (elapsed < msPerYear) {\n        return 'approximately ' + Math.round(elapsed/msPerMonth) + ' months ago';   \n    }\n\n    else {\n        return 'approximately ' + Math.round(elapsed/msPerYear ) + ' years ago';   \n    }\n    }\n  },\n  methods: {\n    ...mapActions(taskStore, [\"delTask\", \"editStatus\", \"editName\"]),\n\n    deleteTask(taskId) {\n      try {\n        this.delTask(taskId);\n        alert(\"Task deleted. Please refresh page.\");\n      } catch (error) {\n        alert(\"Error: \", error.message);\n      }\n    },\n    handleTaskStatus(task, taskId) {\n      this.editStatus(!task, taskId);\n    },\n\n    handleTaskName(title, taskId) {\n      if (title.length !== 0) {\n        this.editName(title, taskId);\n      } else {\n        alert(\"Empty task? That doesn't make sense\");\n      }\n    },\n  },\n  watch: {\n    tasks(state) {\n      console.log(state);\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}