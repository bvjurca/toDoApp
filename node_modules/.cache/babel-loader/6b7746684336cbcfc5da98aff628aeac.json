{"ast":null,"code":"import { defineStore } from 'pinia';\nimport supabase from '../supabase/index';\nexport default defineStore('tasks', {\n  state: () => ({\n    tasks: []\n  }),\n  actions: {\n    async editTask(taskId) {\n      const {\n        error,\n        data\n      } = await supabase.auth;\n      if (error) throw error;\n\n      if (data) {\n        console.log(data);\n        const currentTask = this.tasks.filter(task => task.id === taskId);\n        currentTask.title = data;\n      }\n    },\n\n    async fetchTasks() {\n      const {\n        data: tasks\n      } = await supabase.from('tasks').select('*').order('id', {\n        ascending: false\n      });\n      this.tasks = tasks;\n    }\n\n  }\n});","map":{"version":3,"names":["defineStore","supabase","state","tasks","actions","editTask","taskId","error","data","auth","console","log","currentTask","filter","task","id","title","fetchTasks","from","select","order","ascending"],"sources":["/Users/bogdia/IronHack/toDoApp/final-project/src/store/task.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport supabase from '../supabase/index';\n\nexport default defineStore('tasks', {\n  state: () => ({\n    tasks: [],\n  }),\n  actions: {\n    async editTask(taskId) {\n      const { error, data} = await supabase.auth;\n      if (error) throw error;\n      if (data) {\n        console.log(data);\n        const currentTask = this.tasks.filter((task) => task.id === taskId);\n        currentTask.title = data;\n      }\n    },\n\n    async fetchTasks() {\n      const { data: tasks } = await supabase\n        .from('tasks')\n        .select('*')\n        .order('id', { ascending: false });\n      this.tasks = tasks;\n    },\n  },\n});\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,OAAOC,QAAP,MAAqB,mBAArB;AAEA,eAAeD,WAAW,CAAC,OAAD,EAAU;EAClCE,KAAK,EAAE,OAAO;IACZC,KAAK,EAAE;EADK,CAAP,CAD2B;EAIlCC,OAAO,EAAE;IACP,MAAMC,QAAN,CAAeC,MAAf,EAAuB;MACrB,MAAM;QAAEC,KAAF;QAASC;MAAT,IAAiB,MAAMP,QAAQ,CAACQ,IAAtC;MACA,IAAIF,KAAJ,EAAW,MAAMA,KAAN;;MACX,IAAIC,IAAJ,EAAU;QACRE,OAAO,CAACC,GAAR,CAAYH,IAAZ;QACA,MAAMI,WAAW,GAAG,KAAKT,KAAL,CAAWU,MAAX,CAAmBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYT,MAAxC,CAApB;QACAM,WAAW,CAACI,KAAZ,GAAoBR,IAApB;MACD;IACF,CATM;;IAWP,MAAMS,UAAN,GAAmB;MACjB,MAAM;QAAET,IAAI,EAAEL;MAAR,IAAkB,MAAMF,QAAQ,CACnCiB,IAD2B,CACtB,OADsB,EAE3BC,MAF2B,CAEpB,GAFoB,EAG3BC,KAH2B,CAGrB,IAHqB,EAGf;QAAEC,SAAS,EAAE;MAAb,CAHe,CAA9B;MAIA,KAAKlB,KAAL,GAAaA,KAAb;IACD;;EAjBM;AAJyB,CAAV,CAA1B"},"metadata":{},"sourceType":"module"}