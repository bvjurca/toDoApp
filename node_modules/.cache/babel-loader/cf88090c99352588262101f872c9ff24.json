{"ast":null,"code":"import _regeneratorRuntime from \"/Users/bogdia/IronHack/toDoApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/bogdia/IronHack/toDoApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/bogdia/IronHack/toDoApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { mapActions, mapState } from \"pinia\";\nimport userStore from \"@/store/user\";\nexport default {\n  name: \"RegisterView\",\n  data: function data() {\n    return {\n      errorMsg: ''\n    };\n  },\n  computed: _objectSpread({}, mapState(userStore, [\"user\"])),\n  methods: _objectSpread(_objectSpread({}, mapActions(userStore, [\"signUp\"])), {}, {\n    handleSignUp: function handleSignUp() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var userData, errorMsg;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.password === _this.confirmPass) {\n                  try {\n                    userData = {\n                      email: _this.email,\n                      password: _this.password,\n                      confirmPass: _this.confirmPass\n                    };\n\n                    _this.signUp(userData.email, userData.password);\n                  } catch (error) {\n                    errorMsg = error.message;\n                  }\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }),\n  watch: {\n    user: function user() {\n      if (this.user) {\n        console.log(this.user);\n        this.$router.push({\n          path: \"/\"\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;AA+CA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,eAAe;EACbC,IAAI,EAAE,cADO;EAEbC,IAFa,kBAEN;IACL,OAAO;MACLC,QAAQ,EAAE;IADL,CAAP;EAGD,CANY;EAObC,QAAQ,oBACHL,QAAQ,CAACC,SAAD,EAAY,CAAC,MAAD,CAAZ,CADL,CAPK;EAUbK,OAAO,kCACFP,UAAU,CAACE,SAAD,EAAY,CAAC,QAAD,CAAZ,CADR;IAECM,YAFD,0BAEgB;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACnB,IAAG,KAAI,CAACC,QAAL,KAAkB,KAAI,CAACC,WAA1B,EAAuC;kBACrC,IAAI;oBACAC,QADA,GACW;sBACfC,KAAK,EAAE,KAAI,CAACA,KADG;sBAEfH,QAAQ,EAAE,KAAI,CAACA,QAFA;sBAGfC,WAAW,EAAE,KAAI,CAACA;oBAHH,CADX;;oBAMN,KAAI,CAACG,MAAL,CAAYF,QAAQ,CAACC,KAArB,EAA4BD,QAAQ,CAACF,QAArC;kBACA,CAPE,CAQF,OAAOK,KAAP,EAAc;oBACNT,QADM,GACKS,KAAK,CAACC,OADX;kBAEb;gBACD;;cAbmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAcpB;EAhBI,EAVM;EA4BbC,KAAK,EAAE;IACLC,IADK,kBACE;MACL,IAAI,KAAKA,IAAT,EAAe;QACbC,OAAO,CAACC,GAAR,CAAY,KAAKF,IAAjB;QACA,KAAKG,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACF;IACD;EANI;AA5BM,CAAf","names":["mapActions","mapState","userStore","name","data","errorMsg","computed","methods","handleSignUp","password","confirmPass","userData","email","signUp","error","message","watch","user","console","log","$router","push","path"],"sourceRoot":"","sources":["/Users/bogdia/IronHack/toDoApp/src/views/RegisterView.vue"],"sourcesContent":["<template>\n  <header>\n    <router-link to=\"/auth\">Sign in</router-link>\n    <span> | Sign up</span>\n  </header>\n  <form>\n    <div v-if=\"errorMsg\">\n      <p>{{ errorMsg }}</p>\n    </div>\n    <div>\n      <label for=\"email\"\n        >Email:\n        <input\n          type=\"email\"\n          required\n          id=\"email\"\n          v-model=\"email\"\n        />\n      </label>\n    </div>\n    <div>\n      <label for=\"password\"\n        >Password:\n        <input\n          type=\"password\"\n          required\n          id=\"password\"\n          v-model=\"password\"\n        />\n      </label>\n    </div>\n    <div>\n      <label for=\"confirmPass\"\n        >Confirm password:\n        <input\n          type=\"password\"\n          required\n          id=\"confirmPass\"\n          v-model=\"confirmPass\"\n        />\n      </label>\n    </div>\n    <button @click=\"handleSignUp\">Sign up</button>\n  </form>\n</template>\n\n<script>\nimport { mapActions, mapState } from \"pinia\";\nimport userStore from \"@/store/user\";\n\nexport default {\n  name: \"RegisterView\",\n  data() {\n    return {\n      errorMsg: '',\n    };\n  },\n  computed: {\n    ...mapState(userStore, [\"user\"]),\n  },\n  methods: {\n    ...mapActions(userStore, [\"signUp\"]),\n    async handleSignUp() {\n      if(this.password === this.confirmPass) {\n        try {\n      const userData = {\n        email: this.email,\n        password: this.password,\n        confirmPass: this.confirmPass,\n      };\n      this.signUp(userData.email, userData.password);\n      }\n      catch (error) { \n        const errorMsg = error.message;\n       }\n      }\n    },\n  },\n  watch: {\n    user() {\n      if (this.user) {\n        console.log(this.user);\n        this.$router.push({ path: \"/\" });\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}